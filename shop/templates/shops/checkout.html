{% extends  'shops/basic.html' %}

{% block css %}
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        body{
            font-family: 'IBM Plex Mono', monospace;
        }
        .navbar{
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        .main-div{
            width: 70%;
        }
        .full-screen{
            height: calc(100vh - 56px);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        @media (max-height: 693px){
            .main-div{
                margin-top: 50px;
            }
        }
    </style>

{% endblock %}

{% block body %}
<div class="full-screen">
    <div class="shadow-lg p-3 mb-5 bg-body rounded main-div">
        <form class="row g-3 needs-validation" action='/shop/cart/{{ given_id }}' method='POST' novalidate>
            {% csrf_token %}
            <div class="col-md-6">
              <label for="validationDefault03" class="form-label">City</label>
              <input type="text" class="form-control" id="validationDefault03" required name='city'>
              <div class="invalid-feedback">
                Please enter your city
              </div>
            </div>
            <div class="col-md-6">
                <label for="validationDefault04" class="form-label">State</label>
                <input type="text" class="form-control" id="validationDefault04" required name='state'>
                <div class="invalid-feedback">
                    Please enter your state
                </div>
              </div>
            <div class="col-md-6">
              <label for="validationDefault05" class="form-label">Zip</label>
              <input type="text" class="form-control" id="validationDefault05" required name='zip'>
              <div class="invalid-feedback">
                Please enter your zip code
              </div>
            </div>
            <div class="col-md-6">
                <label for="validationDefault06" class="form-label">Address</label>
                <input type="text" class="form-control" id="validationDefault06" required name='address'>
                <div class="invalid-feedback">
                    Please enter your address
                </div>
              </div>
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="on" id="invalidCheck2" required name='terms'>
                <label class="form-check-label" for="invalidCheck2" required>
                  Agree to terms and conditions
                </label>
                <div class="invalid-feedback">
                    Please agree to the terms and conditions
                </div>
              </div>
            </div>
            <div class="col-12">
              <button class="btn btn-primary" type="submit">Submit form</button>
            </div>
            <input type="hidden" id = 'inputJSON' name='inputJSON'>
          </form>
    </div>
</div>

{% endblock %}


{% block js %}
    <script>// Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
          'use strict'
        
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.querySelectorAll('.needs-validation')
        
          // Loop over them and prevent submission
          Array.prototype.slice.call(forms)
            .forEach(function (form) {
              form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                  event.preventDefault()
                  event.stopPropagation()
                }
        
                form.classList.add('was-validated')
              }, false)
            })
        })()
        document.getElementById('inputJSON').value = localStorage.getItem('cart')
    </script>
{% endblock %}